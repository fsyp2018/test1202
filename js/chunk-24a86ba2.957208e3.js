(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24a86ba2"],{5319:function(t,e,a){"use strict";var s=a("d784"),r=a("825a"),i=a("7b0b"),n=a("50c4"),c=a("a691"),l=a("1d80"),o=a("8aa5"),u=a("14c3"),p=Math.max,d=Math.min,f=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,h=function(t){return void 0===t?t:String(t)};s("replace",2,(function(t,e,a,s){var g=s.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,_=s.REPLACE_KEEPS_$0,b=g?"$":"$0";return[function(a,s){var r=l(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,r,s):e.call(String(r),a,s)},function(t,s){if(!g&&_||"string"===typeof s&&-1===s.indexOf(b)){var i=a(e,t,this,s);if(i.done)return i.value}var l=r(t),f=String(this),m="function"===typeof s;m||(s=String(s));var v=l.global;if(v){var x=l.unicode;l.lastIndex=0}var w=[];while(1){var S=u(l,f);if(null===S)break;if(w.push(S),!v)break;var k=String(S[0]);""===k&&(l.lastIndex=o(f,n(l.lastIndex),x))}for(var y="",E=0,$=0;$<w.length;$++){S=w[$];for(var D=String(S[0]),I=p(d(c(S.index),f.length),0),A=[],O=1;O<S.length;O++)A.push(h(S[O]));var T=S.groups;if(m){var L=[D].concat(A,I,f);void 0!==T&&L.push(T);var j=String(s.apply(void 0,L))}else j=C(D,f,I,A,T,s);I>=E&&(y+=f.slice(E,I)+j,E=I+D.length)}return y+f.slice(E)}];function C(t,a,s,r,n,c){var l=s+t.length,o=r.length,u=v;return void 0!==n&&(n=i(n),u=m),e.call(c,u,(function(e,i){var c;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return a.slice(0,s);case"'":return a.slice(l);case"<":c=n[i.slice(1,-1)];break;default:var u=+i;if(0===u)return e;if(u>o){var p=f(u/10);return 0===p?e:p<=o?void 0===r[p-1]?i.charAt(1):r[p-1]+i.charAt(1):e}c=r[u-1]}return void 0===c?"":c}))}}))},"76fa":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"d-flex flex-column",attrs:{id:"layout"}},[a("main",[a("div",{staticClass:"content_wrapper"},[a("div",{staticClass:"menu_wrapper container-fluid"},[a("div",{staticClass:"itdmavatar"},[a("section",{staticClass:"avatar_brick"},[a("div",{staticClass:"text-center"},[a("label",{staticClass:"user"},[t._v(t._s(t.currentuser.fullname))])]),a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.seldeptname,expression:"seldeptname"}],staticClass:"form-control",attrs:{id:"exampleFormControlSelect1"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.seldeptname=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:""}},[t._v("--請選擇組別--")]),t._l(t.deptname,(function(e,s){return a("option",{key:s},[t._v(t._s(e))])}))],2)]),a("div",{staticClass:"text-center",class:{hidden:t.isShow}},[a("label",{staticClass:"user"},[t._v(t._s(t.seldate))])])])]),t._m(0),a("div",{staticClass:"menu col col-sm-8 col-md-7  col-lg-6 col-xl-5"},[a("section",{staticClass:"menu_brick",on:{click:function(e){return e.preventDefault(),t.openselmenu("D")}}},[a("i",{staticClass:"fa fa-check-square-o",attrs:{"aria-hidden":"true"}}),a("label",{attrs:{for:""}},[t._v("日巡檢")])]),a("section",{staticClass:"menu_brick",on:{click:function(e){return e.preventDefault(),t.openselmenu("W")}}},[a("i",{staticClass:"fa fa-cloud-upload",attrs:{"aria-hidden":"true"}}),a("label",{attrs:{for:""}},[t._v("周巡檢")])]),a("section",{staticClass:"menu_brick",on:{click:function(e){return e.preventDefault(),t.openselmenu("M")}}},[a("i",{staticClass:"fa fa-cloud-download",attrs:{"aria-hidden":"true"}}),a("label",{attrs:{for:""}},[t._v("月巡檢")])])]),a("div",{staticClass:"menu col col-sm-8 col-md-7  col-lg-6 col-xl-5",class:{hidden:t.isShow},staticStyle:{"grid-template":"repeat(1,1fr)/repeat(1,1fr)"}},[a("section",{staticClass:"menu_brick",on:{click:function(e){return e.preventDefault(),t.carryout(e)}}},[a("i",{staticClass:"fa fa-check-square-o",attrs:{"aria-hidden":"true"}}),a("label",{attrs:{for:""}},[t._v("執行巡檢作業")])])]),a("div",{staticClass:"error-message alert text-center",class:{hidden:t.prompt},staticStyle:{position:"fixed","margin-bottom":"0"}},[t._v(" "+t._s(t.prompttext)+" ")])])])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"menu col col-sm-8 col-md-7  col-lg-6 col-xl-5",staticStyle:{"grid-template":"repeat(1,1fr)/repeat(1,1fr)"}},[a("section",{staticClass:"menu_brick"},[a("i",{staticClass:"fa fa-check-square-o",attrs:{"aria-hidden":"true"}}),a("label",{attrs:{for:""}},[t._v("打卡")])])])}];a("ac1f"),a("5319"),a("1276");function i(t){throw new TypeError('"'+t+'" is read-only')}var n=a("5530"),c=a("2f62"),l=a("812f"),o={data:function(){return{seldeptname:"",periodtype:"",prompttext:"",prompt:!0,isShow:!0,seldate:"目前選擇："}},methods:Object(n["a"])({openselmenu:function(t){var e=this;if(e.periodtype=t,e.seldeptname){switch(t){case"D":e.seldate="目前選擇：日巡檢";break;case"W":e.seldate="目前選擇：週巡檢";break;case"M":e.seldate="目前選擇：月巡檢";break}e.isShow=!1}else e.prompttext="請選擇組別",e.prompt=!1;e.getlog()},getlog:function(t){var e=this;if(""===e.periodtype)e.prompttext="請選擇巡檢方式",e.prompt=!1;else{var a=new Date(+new Date+288e5).toISOString().split("T"),s={deptname:e.seldeptname,periodtype:e.periodtype,logdate:a[0].replace(/-/g,"/")},r=l["a"]+"itdmlimsapi/Inspect/GetLog";this.$http.post(r,s).then((function(t){e.prompttext="下載成功",e.prompt=!1,e.depositdata(t.data)})).catch((function(t){e.prompttext="下載失敗",e.prompt=!1}))}},carryout:function(){var t=this;"下載成功"===t.prompttext?t.$router.push("/ScanList"):(t.prompttext="請下載巡檢項目",t.prompt=!1)},SendLog:function(){var t=this,e=l["a"]+"itdmlimsapi/Inspect/SendLog",a=[];for(var s in t.scanlist)if(t.scanlist[s].result){var r={};r.inspectid=t.scanlist[s].inspectid,r.result=t.scanlist[s].result,r.complete=t.scanlist[s].complete,r.createts=t.scanlist[s].createts,r.createuserid=t.scanlist[s].createuserid,r.inspect_logid=t.scanlist[s].inspect_logid,a.push(r)}else;console.log(a),this.$http.post(e,a).then((function(e){console.log(e),t.prompttext="上傳成功",t.prompt=!1,i("data"),a=[]}))}},Object(c["b"])(["depositdata"])),watch:{prompt:function(){var t=this;setTimeout((function(){t.prompt=!0}),3e3)}},computed:Object(n["a"])({},Object(c["c"])(["currentuser","deptname","scanlist"])),created:function(){}},u=o,p=a("2877"),d=Object(p["a"])(u,s,r,!1,null,null,null);e["default"]=d.exports},"812f":function(t,e,a){"use strict";e["a"]="https://www.sinetics.com.tw/"}}]);
//# sourceMappingURL=chunk-24a86ba2.957208e3.js.map