(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee6cd006"],{5319:function(t,e,a){"use strict";var r=a("d784"),s=a("825a"),n=a("7b0b"),i=a("50c4"),c=a("a691"),o=a("1d80"),l=a("8aa5"),u=a("14c3"),p=Math.max,d=Math.min,f=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g,h=function(t){return void 0===t?t:String(t)};r("replace",2,(function(t,e,a,r){var g=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,_=r.REPLACE_KEEPS_$0,b=g?"$":"$0";return[function(a,r){var s=o(this),n=void 0==a?void 0:a[t];return void 0!==n?n.call(a,s,r):e.call(String(s),a,r)},function(t,r){if(!g&&_||"string"===typeof r&&-1===r.indexOf(b)){var n=a(e,t,this,r);if(n.done)return n.value}var o=s(t),f=String(this),v="function"===typeof r;v||(r=String(r));var m=o.global;if(m){var C=o.unicode;o.lastIndex=0}var x=[];while(1){var S=u(o,f);if(null===S)break;if(x.push(S),!m)break;var k=String(S[0]);""===k&&(o.lastIndex=l(f,i(o.lastIndex),C))}for(var y="",E=0,I=0;I<x.length;I++){S=x[I];for(var D=String(S[0]),$=p(d(c(S.index),f.length),0),A=[],M=1;M<S.length;M++)A.push(h(S[M]));var T=S.groups;if(v){var L=[D].concat(A,$,f);void 0!==T&&L.push(T);var O=String(r.apply(void 0,L))}else O=w(D,f,$,A,T,r);$>=E&&(y+=f.slice(E,$)+O,E=$+D.length)}return y+f.slice(E)}];function w(t,a,r,s,i,c){var o=r+t.length,l=s.length,u=m;return void 0!==i&&(i=n(i),u=v),e.call(c,u,(function(e,n){var c;switch(n.charAt(0)){case"$":return"$";case"&":return t;case"`":return a.slice(0,r);case"'":return a.slice(o);case"<":c=i[n.slice(1,-1)];break;default:var u=+n;if(0===u)return e;if(u>l){var p=f(u/10);return 0===p?e:p<=l?void 0===s[p-1]?n.charAt(1):s[p-1]+n.charAt(1):e}c=s[u-1]}return void 0===c?"":c}))}}))},"76fa":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"d-flex flex-column",attrs:{id:"layout"}},[a("main",[a("div",{staticClass:"content_wrapper"},[a("div",{staticClass:"menu_wrapper container-fluid"},[a("div",{staticClass:"itdmavatar"},[a("section",{staticClass:"avatar_brick"},[a("div",{staticClass:"text-center"},[a("label",{staticClass:"user"},[t._v(t._s(t.currentuser.fullname))])]),a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.seldeptname,expression:"seldeptname"}],staticClass:"form-control",attrs:{id:"exampleFormControlSelect1"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.seldeptname=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:""}},[t._v("--請選擇組別--")]),t._l(t.deptname,(function(e,r){return a("option",{key:r},[t._v(t._s(e))])}))],2)]),a("div",{staticClass:"text-center",class:{hidden:t.isShow}},[a("label",{staticClass:"user"},[t._v(t._s(t.seldate))])])])]),a("div",{staticClass:"menu col col-sm-8 col-md-7  col-lg-6 col-xl-5"},[a("section",{staticClass:"menu_brick",on:{click:function(e){return e.preventDefault(),t.openselmenu("D")}}},[a("i",{staticClass:"fa fa-check-square-o",attrs:{"aria-hidden":"true"}}),a("label",{attrs:{for:""}},[t._v("日巡檢")])]),a("section",{staticClass:"menu_brick",on:{click:function(e){return e.preventDefault(),t.openselmenu("W")}}},[a("i",{staticClass:"fa fa-cloud-upload",attrs:{"aria-hidden":"true"}}),a("label",{attrs:{for:""}},[t._v("周巡檢")])]),a("section",{staticClass:"menu_brick",on:{click:function(e){return e.preventDefault(),t.openselmenu("M")}}},[a("i",{staticClass:"fa fa-cloud-download",attrs:{"aria-hidden":"true"}}),a("label",{attrs:{for:""}},[t._v("月巡檢")])])]),a("div",{staticClass:"menu col col-sm-8 col-md-7  col-lg-6 col-xl-5",class:{hidden:t.isShow},staticStyle:{"grid-template":"repeat(2,1fr)/repeat(2,1fr)"}},[a("section",{staticClass:"menu_brick",on:{click:function(e){return e.preventDefault(),t.getlog(e)}}},[a("i",{staticClass:"fa fa-check-square-o",attrs:{"aria-hidden":"true"}}),a("label",{attrs:{for:""}},[t._v("下載巡檢項目")])]),a("section",{staticClass:"menu_brick",on:{click:function(e){return e.preventDefault(),t.carryout(e)}}},[a("i",{staticClass:"fa fa-check-square-o",attrs:{"aria-hidden":"true"}}),a("label",{attrs:{for:""}},[t._v("執行巡檢作業")])])]),a("div",{staticClass:"error-message alert text-center",class:{hidden:t.prompt},staticStyle:{position:"fixed","margin-bottom":"0"}},[t._v(" "+t._s(t.prompttext)+" ")])])])])])])},s=[];a("ac1f"),a("5319"),a("1276");function n(t){throw new TypeError('"'+t+'" is read-only')}var i=a("5530"),c=a("2f62"),o={data:function(){return{seldeptname:"",periodtype:"",prompttext:"",prompt:!0,isShow:!0,seldate:"目前選擇："}},methods:Object(i["a"])({openselmenu:function(t){var e=this;if(e.periodtype=t,e.seldeptname){switch(t){case"D":e.seldate="目前選擇：日巡檢";break;case"W":e.seldate="目前選擇：週巡檢";break;case"M":e.seldate="目前選擇：月巡檢";break}e.isShow=!1}else e.prompttext="請選擇組別",e.prompt=!1},getlog:function(t){var e=this;if(""===e.periodtype)e.prompttext="請選擇巡檢方式",e.prompt=!1;else{var a=new Date(+new Date+288e5).toISOString().split("T"),r={deptname:e.seldeptname,periodtype:e.periodtype,logdate:a[0].replace(/-/g,"/")},s="https://www.sinetics.com.tw/ITDMLIMSAPI/Inspect/GetLog";this.$http.post(s,r).then((function(t){e.prompttext="下載成功",e.prompt=!1,e.depositdata(t.data)})).catch((function(t){e.prompttext="下載失敗",e.prompt=!1}))}},carryout:function(){var t=this;"下載成功"===t.prompttext?t.$router.push("/ScanList"):(t.prompttext="請下載巡檢項目",t.prompt=!1)},SendLog:function(){var t=this,e="https://www.sinetics.com.tw/ITDMLIMSAPI/Inspect/SendLog",a=[];for(var r in t.scanlist)if(t.scanlist[r].result){var s={};s.inspectid=t.scanlist[r].inspectid,s.result=t.scanlist[r].result,s.complete=t.scanlist[r].complete,s.createts=t.scanlist[r].createts,s.createuserid=t.scanlist[r].createuserid,s.inspect_logid=t.scanlist[r].inspect_logid,a.push(s)}else;console.log(a),this.$http.post(e,a).then((function(e){console.log(e),t.prompttext="上傳成功",t.prompt=!1,n("data"),a=[]}))}},Object(c["b"])(["depositdata"])),watch:{prompt:function(){var t=this;setTimeout((function(){t.prompt=!0}),3e3)}},computed:Object(i["a"])({},Object(c["c"])(["currentuser","deptname","scanlist"])),created:function(){}},l=o,u=a("2877"),p=Object(u["a"])(l,r,s,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-ee6cd006.17a9ce3a.js.map